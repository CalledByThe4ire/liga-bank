{"version":3,"sources":["helpers.js","page.js","main-nav-list.js","login.js","slider.js","services.js","calculator.js","departments.js","form-departments.js","modal.js"],"names":["helpers","modal","hide","classList","add","remove","show","scroll","disable","document","body","style","paddingRight","concat","getScrollbarWidth","enable","hideModal","contains","num2str","n","textForms","n1","Math","abs","getPercentage","partialValue","totalValue","round","x","multiplier","floor","window","innerWidth","documentElement","clientWidth","addEventListener","SmoothScroll","speed","speedAsDuration","modals","querySelectorAll","_ref","keyCode","forEach","breakpoint","matchMedia","trigger","querySelector","nav","events","toggleMenu","state","element","setAttribute","Error","documentClickHandler","event","type","target","closest","currentTarget","breakpointChecker","matches","removeEventListener","addListener","pageHeaderLogin","form","dataset","formSubmit","formLogin","elements","login","getElementById","localStorage","getItem","focus","Swiper","loop","spaceBetween","noSwiping","autoplay","delay","pagination","el","clickable","breakpoints","1024","servicesListItems","servicesLinks","servicesTabs","eventName","link","linkIndex","e","activeElement","activeElementIndex","preventDefault","removeActiveTab","addActiveTab","section","tabIndex","Array","from","findIndex","tab","index","servicesSlider","removeActveClass","list","cls","item","makeFirstElementActive","destroy","calculator","creditSelectionForm","creditSelectionTitle","creditSelectionFormField","creditCalculationForms","creditOfferingForm","creditRegistrationForm","messages","rejectMessage","errorMessage","_Array$from$filter","filter","_Array$from$filter2","_slicedToArray","_Array$from$filter3","_Array$from$filter4","toggleFocus","parentElement","selector","triggerClick","click","getUnitPluralForm","unit","value","Number","nounRublePlurals","nounYearPlurals","getMaskOptions","format","mask","lazy","blocks","VALUE","scale","signed","thousandsSeparator","commit","masked","_value","padStart","padFractionalZeros","radix","String","evt","stopPropagation","toggle","stopImmediatePropagation","rect","getBoundingClientRect","top","clientY","height","left","clientX","width","calculatorCols","name","creditType","hidden","col","dispatchEvent","Event","textContent","previousElementSibling","masks","inputs","buttons","input","push","IMask","button","formField","find","id","_mask$el$input$datase","_mask$el$input$datase2","min","_mask$el$input$datase3","max","_mask$el$input$datase4","step","_mask$el$input$datase5","_mask$el$input$datase6","isNaN","unmaskedValue","maskUnit","updateOptions","bubbles","maskedInputNewValue","label","_target$dataset","_target$dataset$min","_target$dataset$max","_target$dataset$step","_target$dataset$unit","_target$dataset$forma","divider","_target$name$split","split","_target$name$split2","formModifier","fieldModifier","_masks$filter","cost","_masks$filter3","initialPayment","_masks$filter5","initialPaymentRange","initialPaymentPercent","_masks$filter7","period","_masks$filter9","periodRange","disabled","calcAnnuityPayment","creditSum","monthlyInterestRate","periods","ceil","pow","calcRequiredIncome","monthlyPayment","calcMonthlyInterestRate","interestRate","toFixed","toggleMessage","currentValue","minValue","modifiers","Map","messageData","_messageData","modifier","get","toLocaleString","replace","creditTypeNames","fillInCreditOfferingForm","data","annuityPayment","requiredIncome","_element$el$input$dat","_name$split","renderCreditOfferingFormData","_ref2","_currentTarget$name$s","_masks$filter11","_masks$filter13","_masks$filter15","filteredMasks","includes","_Array$from$filter5","maternityCapital","maternityCapitalSum","checked","percentage","_Array$from$filter7","carInsurance","_Array$from$filter9","lifeInsurance","_Array$from$filter11","projectMember","projectMemberPercentage","formRegistrationName","_masks$filter17","creditRegistrationFullNameInput","_masks$filter19","creditRegistrationEmailInput","_masks$filter21","creditRegistrationTelInput","_masks$filter23","formRegistrationApplicationNumber","registrationFormData","JSON","parse","fullName","tel","email","renderCreditRegistrationFormData","_ref3","updateMask","_mask$el$input$datase7","_currentTarget$name$s3","formCalculationModifier","_masks$filter25","creditRegistrationCostMask","_masks$filter27","creditRegistrationInitialPaymentMask","_masks$filter29","creditRegistrationPeriodMask","_masks$filter31","formRegistrationPurposeInput","formRegistrationCostLabel","_masks$filter33","costInput","_masks$filter35","formRegistrationInitialPaymentInput","creditRegistrationInitialPaymentGroup","_masks$filter37","formRegistrationPeriodInput","_masks$filter39","_masks$filter41","_masks$filter43","toggleInvalid","parent","parentclassName","creditRegistrationFormInvalidHandler","_ref4","validity","valid","creditRegistrationFormInputHandler","_ref5","modalCalculator","_masks$filter45","formData","Object","fromEntries","FormData","setItem","stringify","map","objectManager","mapContainer","init","departments","ymaps","center","zoom","controls","autoFitToViewport","ObjectManager","clusterize","gridSize","clusterDisableClickZoom","objects","options","set","iconLayout","iconImageHref","iconImageSize","iconImageOffset","fetch","then","response","json","group","geoObjects","getBounds","setBounds","behaviors","names","department","_department$id$split","ready","container","fitToViewport","WatchJS","watch","modalPageHeader","fieldElements","password","submitButton","errorMessages","empty","length","updateStateErrors","errors","fields","_objectSpread","validate","updateValidationState","keys","every","key","loginFormData","processState","entries","rootElementClassName","rootElement","feedbackElement","innerHTML","errorMessageElement","createElement","append","cssText","_arr2","_i2","showPassword","hidePassword","_ref7","nextElementSibling","modalCloseButtons","modalOverlays","modalCloseButton","modalOverlay","_ref8"],"mappings":"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","file":"app.min.js","sourcesContent":["/* eslint-disable no-unused-vars */\nconst helpers = {\n  modal: {\n    hide(modal) {\n      modal.classList.add(`modal--invisible`, `fadeOut`);\n      modal.classList.remove(`fadeIn`);\n    },\n    show(modal) {\n      modal.classList.remove(`modal--invisible`, `fadeOut`);\n      modal.classList.add(`fadeIn`);\n    }\n  },\n  scroll: {\n    disable() {\n      document.body.classList.add(`page--no-scroll`);\n      document.body.classList.remove(`page--transparent`);\n      document.body.style.paddingRight = `${helpers.getScrollbarWidth()}px`;\n    },\n    enable() {\n      document.body.classList.remove(`page--no-scroll`);\n      document.body.classList.add(`page--transparent`);\n      document.body.style.paddingRight = ``;\n    }\n  },\n  hideModal(modal) {\n    if (!modal.classList.contains(`modal--invisible`)) {\n      modal.classList.add(`modal--invisible`, `fadeOut`);\n      modal.classList.remove(`fadeIn`);\n    }\n\n    document.body.classList.remove(`page--no-scroll`);\n    document.body.classList.add(`page--transparent`);\n    document.body.style.paddingRight = ``;\n  },\n  num2str(n, textForms) {\n    n = Math.abs(n) % 100;\n    let n1 = n % 10;\n    if (n > 10 && n < 20) {\n      return textForms[2];\n    }\n    if (n1 > 1 && n1 < 5) {\n      return textForms[1];\n    }\n    if (n1 === 1) {\n      return textForms[0];\n    }\n    return textForms[2];\n  },\n  getPercentage(partialValue, totalValue) {\n    return (100 * partialValue) / totalValue;\n  },\n  round(x, multiplier) {\n    if (x % multiplier === 0) {\n      return Math.floor(x / multiplier) * multiplier;\n    }\n    return Math.floor(x / multiplier) * multiplier + multiplier;\n  },\n  getScrollbarWidth() {\n    return window.innerWidth - document.documentElement.clientWidth;\n  }\n};\n","/* global SmoothScroll */\n/* eslint-disable no-unused-vars, no-undef */\n\ndocument.addEventListener(`DOMContentLoaded`, () => {\n  const scroll = new SmoothScroll(`a[href*=\"#\"]`, {\n    speed: 1000,\n    speedAsDuration: true\n  });\n\n  document.body.classList.remove(`page_no_js`);\n  document.body.classList.add(`page_js`);\n\n  const modals = document.querySelectorAll(`.modal`);\n\n  const keydownHandler = ({keyCode}) => {\n    if (keyCode === 27) {\n      if (modals) {\n        modals.forEach((modal) => {\n          if (!modal.classList.contains(`modal--invisible`)) {\n            helpers.modal.hide(modal);\n            helpers.scroll.enable();\n          }\n        });\n      }\n    }\n  };\n\n  document.addEventListener(`keydown`, keydownHandler);\n});\n","document.addEventListener(`DOMContentLoaded`, () => {\n  const breakpoint = window.matchMedia(`only screen and (max-width: 767px)`);\n  const trigger = document.querySelector(`.main-nav__trigger`);\n  const nav = document.querySelector(`.main-nav-list`);\n  const events = [`click`, `keydown`];\n\n  const toggleMenu = (state, element) => {\n    switch (state) {\n      case `close`:\n        element.classList.remove(`main-nav__trigger--open-menu`);\n        element.classList.add(`main-nav__trigger--close-menu`);\n        element.setAttribute(`aria-label`, `Close menu`);\n        element\n          .querySelector(`use`)\n          .setAttribute(`xlink:href`, `#main-nav__close`);\n        if (nav) {\n          nav.classList.remove(`main-nav-list--hidden`, `fadeOut`);\n          nav.classList.add(`animated`, `fadeIn`);\n        }\n        break;\n      case `open`:\n        element.classList.remove(`main-nav__trigger--close-menu`);\n        element.classList.add(`main-nav__trigger--open-menu`);\n\n        element.setAttribute(`aria-label`, `Open menu`);\n        element\n          .querySelector(`use`)\n          .setAttribute(`xlink:href`, `#main-nav__menu`);\n        if (nav) {\n          nav.classList.add(`main-nav-list--hidden`, `fadeOut`);\n          nav.classList.remove(`main-nav-list--hidden`, `fadeIn`);\n        }\n        break;\n      default:\n        throw new Error(`Unknown state: ${state}`);\n    }\n  };\n\n  const triggerClickHandler = ({currentTarget}) => {\n    if (currentTarget.classList.contains(`main-nav__trigger--open-menu`)) {\n      toggleMenu(`close`, currentTarget);\n    } else if (\n      currentTarget.classList.contains(`main-nav__trigger--close-menu`)\n    ) {\n      toggleMenu(`open`, currentTarget);\n    }\n  };\n\n  const documentClickHandler = (event) => {\n    const {type, target} = event;\n    if (type === `click`) {\n      if (!target.closest(`.main-nav`)) {\n        if (trigger) {\n          toggleMenu(`open`, trigger);\n        }\n      }\n    }\n    if (type === `keydown` && event.keyCode === 27) {\n      if (trigger) {\n        toggleMenu(`open`, trigger);\n      }\n    }\n  };\n\n  trigger.addEventListener(`click`, triggerClickHandler);\n\n  const breakpointChecker = () => {\n    if (trigger && nav) {\n      if (breakpoint.matches) {\n        toggleMenu(`open`, trigger);\n        events.forEach((event) => {\n          document.addEventListener(event, documentClickHandler);\n        });\n      } else {\n        toggleMenu(`close`, trigger);\n        events.forEach((event) => {\n          document.removeEventListener(event, documentClickHandler);\n        });\n      }\n    }\n  };\n\n  breakpointChecker();\n  breakpoint.addListener(breakpointChecker);\n});\n\n","/* eslint-disable no-undef */\n\ndocument.addEventListener(`DOMContentLoaded`, () => {\n  const pageHeaderLogin = document.querySelector(`#page-header-login`);\n\n  const clickHandler = ({target}) => {\n    const form = document.querySelector(`#${target.dataset.modal} form`);\n    let formSubmit = null;\n    let formLogin = null;\n\n    if (form) {\n      formSubmit = form.querySelector(`[type=\"submit\"]`);\n      formLogin = form.elements.login;\n    }\n\n    const modal = document.getElementById(target.dataset.modal);\n\n    if (modal) {\n      helpers.modal.show(modal);\n      helpers.scroll.disable();\n    }\n\n    if (localStorage.getItem(`loginFormData`)) {\n      if (formSubmit) {\n        formSubmit.focus();\n      }\n    } else {\n      if (formLogin) {\n        formLogin.focus();\n      }\n    }\n  };\n\n  if (pageHeaderLogin) {\n    pageHeaderLogin.addEventListener(`click`, clickHandler);\n  }\n});\n","/* global Swiper */\n/* eslint-disable no-unused-vars */\n\ndocument.addEventListener(`DOMContentLoaded`, () => {\n  const mainSlider = new Swiper(`.about`, {\n    loop: true,\n    speed: 500,\n    spaceBetween: 30,\n    noSwiping: false,\n    autoplay: {\n      delay: 3000\n    },\n    pagination: {\n      el: `.swiper-pagination`,\n      type: `bullets`,\n      clickable: `false`\n    },\n    breakpoints: {\n      1024: {\n        noSwiping: true,\n        pagination: {\n          el: `.swiper-pagination`,\n          type: `bullets`,\n          clickable: true\n        },\n        autoplay: {\n          delay: 4000\n        }\n      }\n    }\n  });\n});\n","/* global Swiper */\n/* eslint-disable no-unused-vars */\n\ndocument.addEventListener(`DOMContentLoaded`, () => {\n  // tab' switch behaviour\n  const servicesListItems = document.querySelectorAll(\n      `#services .services__list-item`\n  );\n  const servicesLinks = document.querySelectorAll(`#services .services__link`);\n  const servicesTabs = document.querySelectorAll(`#services .tab-services`);\n\n  if (servicesLinks && servicesTabs) {\n    const eventHandler = (event, activeElement, activeElementIndex) => {\n      const {type, keyCode} = event;\n\n      if (type === `click`) {\n        event.preventDefault();\n        removeActiveTab();\n        addActiveTab(activeElement, activeElementIndex);\n      } else if (type === `keyup` && keyCode === 9) {\n        removeActiveTab();\n        addActiveTab(activeElement, activeElementIndex);\n      }\n    };\n\n    [`click`, `keyup`].forEach((eventName) => {\n      servicesLinks.forEach((link, linkIndex) => {\n        link.addEventListener(eventName, (e) => eventHandler(e, link, linkIndex));\n      });\n    });\n\n    const removeActiveTab = () => {\n      servicesLinks.forEach((link) => {\n        link\n          .closest(`.services__list-item`)\n          .classList.remove(`services__list-item--active`);\n      });\n      servicesTabs.forEach((section) => {\n        section.classList.remove(`tab-services--active`);\n      });\n    };\n\n    const addActiveTab = (link, linkIndex) => {\n      link\n        .closest(`.services__list-item`)\n        .classList.add(`services__list-item--active`);\n      const tabIndex = Array.from(servicesTabs).findIndex(\n          (tab, index) => index === linkIndex\n      );\n      servicesTabs.forEach((tab, index) => {\n        if (index === tabIndex) {\n          tab.classList.add(`tab-services--active`);\n        }\n      });\n    };\n  }\n\n  // slider\n  const breakpoint = window.matchMedia(`only screen and (max-width: 1023px)`);\n  let servicesSlider = null;\n\n  const enableSlider = () => {\n    servicesSlider = new Swiper(`#services`, {\n      loop: true,\n      speed: 500,\n      spaceBetween: 10,\n      autoplay: {\n        delay: 3000\n      },\n      pagination: {\n        el: `.swiper-pagination`,\n        type: `bullets`,\n        clickable: `false`\n      }\n    });\n  };\n\n  const removeActveClass = (list, cls) => {\n    list.forEach((item) =>\n      item.classList.contains(`${cls}`)\n        ? item.classList.remove(`${cls}`)\n        : item\n    );\n  };\n\n  const makeFirstElementActive = (list, cls) => {\n    list.forEach((item, index) =>\n      index === 0\n        ? item.classList.add(`${cls}`)\n        : item.classList.remove(`${cls}`)\n    );\n  };\n\n  const breakpointChecker = () => {\n    if (breakpoint.matches) {\n      enableSlider();\n      if (servicesTabs && servicesListItems) {\n        removeActveClass(servicesTabs, `tab-service--active`);\n        removeActveClass(servicesListItems, `services__list-item--active`);\n      }\n    } else {\n      if (servicesSlider) {\n        servicesSlider.destroy();\n\n        if (servicesTabs && servicesListItems) {\n          makeFirstElementActive(servicesTabs, `tab-service--active`);\n          makeFirstElementActive(servicesListItems, `services__list-item--active`);\n        }\n      }\n    }\n  };\n\n  breakpointChecker();\n  breakpoint.addListener(breakpointChecker);\n});\n","/* global Map, IMask */\n/* eslint-disable no-unused-vars, no-undef, new-cap, max-nested-callbacks */\ndocument.addEventListener(`DOMContentLoaded`, () => {\n  const calculator = document.querySelector(`#calculator`);\n\n  let creditSelectionForm = null;\n  let creditSelectionTitle = null;\n  let creditSelectionFormField = null;\n\n  let creditCalculationForms = null;\n  let creditOfferingForm = null;\n  let creditRegistrationForm = null;\n\n  let messages = null;\n  let rejectMessage = null;\n  let errorMessage = null;\n\n  if (calculator) {\n    creditSelectionForm = calculator.querySelector(`#credit-selection`);\n    if (creditSelectionForm) {\n      creditSelectionTitle = creditSelectionForm.querySelector(`input`);\n      creditSelectionFormField = creditSelectionForm.querySelector(\n          `.calculator__form-field`\n      );\n    }\n\n    creditCalculationForms = calculator.querySelectorAll(\n        `.calculator__credit-form--calculation form`\n    );\n    creditOfferingForm = calculator.querySelector(`#credit-offer`);\n    creditRegistrationForm = calculator.querySelector(`#credit-registration`);\n\n    messages = calculator.querySelectorAll(`.calculator__message`);\n    if (messages) {\n      [rejectMessage] = Array.from(messages).filter((item) => {\n        if (item.classList.contains(`calculator__message--reject`)) {\n          return item;\n        }\n        return false;\n      });\n      [errorMessage] = Array.from(messages).filter((item) => {\n        if (item.classList.contains(`calculator__message--error`)) {\n          return item;\n        }\n        return false;\n      });\n    }\n  }\n\n  const toggleFocus = (element, parentElement, selector) => {\n    element.addEventListener(`focus`, () => {\n      if (!parentElement.classList.contains(`${selector}--focus`)) {\n        parentElement.classList.add(`${selector}--focus`);\n      }\n    });\n\n    element.addEventListener(`blur`, () => {\n      if (parentElement.classList.contains(`${selector}--focus`)) {\n        parentElement.classList.remove(`${selector}--focus`);\n      }\n    });\n  };\n\n  const triggerClick = (element) => {\n    element.addEventListener(`keydown`, (event) => {\n      const {keyCode, target} = event;\n      if (keyCode === 13 || keyCode === 32) {\n        target.click();\n      }\n    });\n  };\n\n  // маски\n  const getUnitPluralForm = (unit, value) => {\n    switch (unit) {\n      case `currency`:\n        unit = ` ${helpers.num2str(Number(value), nounRublePlurals)}`;\n        break;\n\n      case `percent`:\n        unit = `%`;\n        break;\n\n      case `numero-sign`:\n        unit = `№`;\n        break;\n\n      case `period`:\n        unit = ` ${helpers.num2str(Number(value), nounYearPlurals)}`;\n        break;\n\n      case `empty`:\n        unit = ``;\n        break;\n\n      default:\n        throw new Error(`Unknown unit: ${unit}`);\n    }\n    return unit;\n  };\n\n  const getMaskOptions = (unit, format) => {\n    switch (format) {\n      case `integer`:\n        return {\n          mask: `VALUE${unit}`,\n          lazy: false,\n          blocks: {\n            VALUE: {\n              mask: Number,\n              scale: 0,\n              signed: false,\n              thousandsSeparator: ` `\n            }\n          }\n        };\n      case `4-digit integer`:\n        return {\n          mask: `${unit} VALUE`,\n          blocks: {\n            VALUE: {\n              mask: /^\\d+$/,\n              commit: (value, masked) =>\n                (masked._value = value.padStart(4, `0`))\n            }\n          }\n        };\n      case `fractional`:\n        return {\n          mask: `VALUE${unit}`,\n          lazy: false,\n          blocks: {\n            VALUE: {\n              mask: Number,\n              scale: 2,\n              signed: false,\n              padFractionalZeros: true,\n              radix: `,`\n            }\n          }\n        };\n      case `string`:\n        return {\n          mask: `VALUE`,\n          blocks: {\n            VALUE: {\n              mask: String\n            }\n          }\n        };\n      case `tel`:\n        return {\n          mask: `+{7}(000)000-00-00`,\n          lazy: true\n        };\n      case `full-name`:\n        return {\n          mask: /^[a-zA-Zа-яА-ЯёЁ ]+$/\n        };\n      case `email`:\n        return {\n          mask: /^\\S*@?\\S*$/\n        };\n      default:\n        throw new Error(`Unknown mask's format: ${format}`);\n    }\n  };\n\n  // склонение числительных окончаний слов\n  const nounRublePlurals = [`рубль`, `рубля`, `рублей`];\n  const nounYearPlurals = [`год`, `года`, `лет`];\n\n  // Шаг 1 (Цель кредита)\n  if (creditSelectionFormField) {\n    creditSelectionFormField.addEventListener(`click`, (evt) => {\n      event.stopPropagation();\n      const {currentTarget} = evt;\n      currentTarget.classList.toggle(`calculator__form-field--open`);\n\n      document.addEventListener(`click`, (event) => {\n        event.stopImmediatePropagation();\n        const rect = currentTarget.getBoundingClientRect();\n        const isInFormField =\n          rect.top <= event.clientY &&\n          event.clientY <= rect.top + rect.height &&\n          rect.left <= event.clientX &&\n          event.clientX <= rect.left + rect.width;\n        if (!isInFormField) {\n          if (\n            currentTarget.classList.contains(`calculator__form-field--open`)\n          ) {\n            currentTarget.classList.remove(`calculator__form-field--open`);\n          }\n        }\n      });\n    });\n  }\n\n  if (creditSelectionForm) {\n    const calculatorCols =\n      calculator && calculator.querySelectorAll(`.calculator__col`);\n    const toggleCalculatorColVisibility = () => {\n      calculatorCols.forEach((col) => {\n        if (\n          col.classList.contains(`calculator__col--right`) &&\n          col.classList.contains(`calculator__col--invisible`)\n        ) {\n          col.classList.remove(`calculator__col--invisible`);\n        }\n      });\n    };\n\n    creditSelectionForm\n      .querySelectorAll(`.calculator__forms-list-item`)\n      .forEach((item) => {\n        item.addEventListener(`click`, (event) => {\n          const {target} = event;\n          if (creditCalculationForms) {\n            creditCalculationForms.forEach((form) => {\n              if (form.name !== target.dataset.creditType) {\n                form.hidden = true;\n              } else {\n                form.hidden = false;\n                toggleCalculatorColVisibility();\n                form.dispatchEvent(new Event(`change`));\n              }\n            });\n          }\n          if (creditRegistrationForm) {\n            creditRegistrationForm.hidden = true;\n          }\n          if (creditSelectionTitle) {\n            creditSelectionTitle.value = target.textContent;\n            creditSelectionTitle.parentElement.classList.remove(\n                `calculator__form-field--open`\n            );\n          }\n        });\n        toggleFocus(\n            item,\n            item.parentElement.previousElementSibling,\n            `calculator__form-field`\n        );\n        triggerClick(item);\n      });\n  }\n\n  // Шаг 2 (параметры кредита)\n  const makeInactive = (list) => {\n    list.forEach((item) => {\n      item.value = `0`;\n      item.el.input.disabled = true;\n    });\n  };\n\n  const makeActive = (list) =>\n    list.forEach((item) => (item.el.input.disabled = false));\n\n  const masks = [];\n  if (creditCalculationForms) {\n    creditCalculationForms.forEach((form) => {\n      const inputs = form.querySelectorAll(\n          `input[type=\"text\"], input[type=\"range\"]`\n      );\n      const buttons = form.querySelectorAll(`button`);\n      if (inputs) {\n        inputs.forEach((input) => {\n          const unit = getUnitPluralForm(input.dataset.unit, input.value);\n          masks.push(IMask(input, getMaskOptions(unit, input.dataset.format)));\n        });\n      }\n\n      if (buttons) {\n        buttons.forEach((button) => {\n          button.addEventListener(`click`, (event) => {\n            const {target} = event;\n            const formField = target.closest(`.calculator__form-field`);\n            const {name} = target;\n            const mask = masks.find(\n                (item) => item.el.input.id === formField.querySelector(`input`).id\n            );\n            const {\n              dataset: {min = ``, max = ``, step = ``, unit = ``, format = ``}\n            } = mask.el.input;\n\n            if (Number.isNaN(Number(mask.unmaskedValue))) {\n              const maskUnit = getUnitPluralForm(unit, mask.unmaskedValue);\n              mask.updateOptions(getMaskOptions(maskUnit, format));\n              mask.value = `${Number(min)}`;\n              mask.el.input.dispatchEvent(\n                  new Event(`change`, {bubbles: true})\n              );\n              if (\n                formField &&\n                formField.classList.contains(`calculator__form-field--invalid`)\n              ) {\n                formField.classList.remove(`calculator__form-field--invalid`);\n              }\n            } else {\n              let maskedInputNewValue = 0;\n              if (name === `plus`) {\n                maskedInputNewValue = Number(mask.unmaskedValue) + Number(step);\n                if (maskedInputNewValue > Number(max)) {\n                  maskedInputNewValue = `${Number(max)}`;\n                }\n              } else if (name === `minus`) {\n                maskedInputNewValue = Number(mask.unmaskedValue) - Number(step);\n                if (maskedInputNewValue < Number(min)) {\n                  maskedInputNewValue = `${Number(min)}`;\n                }\n              }\n              mask.value = `${maskedInputNewValue}`;\n              mask.el.input.dispatchEvent(\n                  new Event(`change`, {bubbles: true})\n              );\n            }\n          });\n        });\n      }\n\n      form\n        .querySelectorAll(\n            `.calculator__form-field > button, .calculator__form-field > input`\n        )\n        .forEach((item) => {\n          toggleFocus(item, item.parentElement, `calculator__form-field`);\n        });\n\n      form.querySelectorAll(`label`).forEach((label) => triggerClick(label));\n    });\n  }\n\n  masks.forEach((mask) => {\n    const input = mask.el.input;\n    const formField = input.closest(`.calculator__form-field`);\n    let buttons = null;\n    if (formField) {\n      buttons = formField.querySelectorAll(`button`);\n    }\n\n    const focusHandler = () => {\n      if (\n        formField &&\n        formField.classList.contains(`calculator__form-field--invalid`)\n      ) {\n        formField.classList.remove(`calculator__form-field--invalid`);\n      }\n    };\n\n    const creditCalculationFormInputHandler = () => {\n      const maskUnit = getUnitPluralForm(\n          input.dataset.unit,\n          mask.unmaskedValue\n      );\n      mask.updateOptions(getMaskOptions(maskUnit, input.dataset.format));\n    };\n\n    const creditCalculationFormChangeHandler = ({target}) => {\n      const {\n        dataset: {min = ``, max = ``, step = ``, unit = ``, format = ``}\n      } = target;\n      const divider = `-credit-`;\n      const [formModifier, fieldModifier] = target.name.split(`${divider}`);\n\n      const [cost] = masks.filter(\n          (item) => item.el.input.name === `${formModifier}${divider}cost`\n      );\n\n      const [initialPayment] = masks.filter(\n          (item) =>\n            item.el.input.name === `${formModifier}${divider}initial-payment`\n      );\n      const [initialPaymentRange] = masks.filter(\n          (item) =>\n            item.el.input.name ===\n          `${formModifier}${divider}initial-payment-range`\n      );\n      const initialPaymentPercent = document.querySelector(\n          `#${formModifier}${divider}initial-payment-percent`\n      );\n\n      const [period] = masks.filter(\n          (item) => item.el.input.name === `${formModifier}${divider}period`\n      );\n      const [periodRange] = masks.filter(\n          (item) => item.el.input.name === `${formModifier}${divider}period-range`\n      );\n\n      let maskUnit = ``;\n\n      switch (fieldModifier) {\n        case `cost`:\n          if (\n            Number(mask.unmaskedValue) < Number(min) ||\n            Number(mask.unmaskedValue) > Number(max)\n          ) {\n            mask.updateOptions(getMaskOptions(``, `string`));\n            mask.value = `Некорректное значение`;\n            if (initialPayment) {\n              initialPayment.value = `0`;\n            }\n            if (\n              formField &&\n              !formField.classList.contains(`calculator__form-field--invalid`)\n            ) {\n              formField.classList.add(`calculator__form-field--invalid`);\n            }\n\n            if (initialPayment && initialPaymentRange) {\n              makeInactive([initialPayment, initialPaymentRange]);\n            }\n          } else {\n            if (initialPayment) {\n              initialPayment.value = `${Number(cost.unmaskedValue) *\n                (Number(initialPayment.el.input.dataset.min) / 100)}`;\n\n              if (initialPaymentRange) {\n                initialPaymentRange.value = `${Number(\n                    initialPaymentRange.el.input.min\n                )}`;\n              }\n            }\n\n            if (buttons) {\n              buttons.forEach((button) => (button.disabled = false));\n            }\n            if (initialPayment && initialPaymentRange) {\n              makeActive([initialPayment, initialPaymentRange]);\n            }\n          }\n          break;\n\n        case `initial-payment`:\n          if (Number(mask.unmaskedValue) >= Number(cost.unmaskedValue)) {\n            mask.value = `${Number(cost.unmaskedValue)}`;\n            if (initialPaymentRange) {\n              initialPaymentRange.value = `${max}`;\n            }\n          } else if (\n            helpers.getPercentage(Number(mask.unmaskedValue), cost.unmaskedValue) <\n            Number(min)\n          ) {\n            mask.value = `${Number(cost.unmaskedValue) / Number(min)}`;\n            if (initialPaymentRange) {\n              initialPaymentRange.value = `${min}`;\n            }\n          }\n\n          if (initialPaymentRange) {\n            initialPaymentRange.value = `${helpers.round(\n                helpers.getPercentage(\n                    Number(mask.unmaskedValue),\n                    Number(cost.unmaskedValue)\n                ),\n                Number(step)\n            )}`;\n          }\n\n          maskUnit = getUnitPluralForm(unit, mask.unmaskedValue);\n          mask.updateOptions(getMaskOptions(maskUnit, format));\n          break;\n\n        case `initial-payment-range`:\n          if (initialPayment) {\n            initialPayment.value = `${Number(cost.unmaskedValue) *\n              (Number(mask.unmaskedValue) / 100)}`;\n            initialPayment.el.input.dispatchEvent(\n                new Event(`change`, {bubbles: true})\n            );\n            if (initialPaymentPercent) {\n              initialPaymentPercent.textContent = `${Number(\n                  mask.unmaskedValue\n              )}%`;\n            }\n          }\n          break;\n\n        case `period`:\n          if (Number(mask.unmaskedValue) > Number(max)) {\n            mask.value = `${Number(max)}`;\n            mask.updateOptions(getMaskOptions(mask, format));\n            if (periodRange) {\n              periodRange.value = `${max}`;\n            }\n          } else if (Number(mask.unmaskedValue) < Number(min)) {\n            mask.value = `${Number(min)}`;\n            mask.updateOptions(getMaskOptions(unit, format));\n            if (periodRange) {\n              periodRange.value = `${min}`;\n            }\n          }\n\n          if (periodRange) {\n            periodRange.value = `${helpers.round(\n                Number(mask.unmaskedValue),\n                Number(step)\n            )}`;\n          }\n          maskUnit = getUnitPluralForm(unit, mask.unmaskedValue);\n          mask.updateOptions(getMaskOptions(maskUnit, format));\n          break;\n\n        case `period-range`:\n          if (period) {\n            period.value = `${Number(mask.unmaskedValue)}`;\n            period.el.input.dispatchEvent(\n                new Event(`change`, {bubbles: true})\n            );\n          }\n          break;\n\n        default:\n          throw new Error(`Unknown field's modifier: ${fieldModifier}`);\n      }\n      if (creditRegistrationForm) {\n        if (!creditRegistrationForm.hidden) {\n          creditRegistrationForm.hidden = true;\n        }\n      }\n    };\n\n    input.addEventListener(`input`, creditCalculationFormInputHandler);\n    input.addEventListener(`change`, creditCalculationFormChangeHandler);\n    input.addEventListener(`focus`, focusHandler);\n  });\n\n  // Секция «Наше предложение»\n  const calcAnnuityPayment = (creditSum, monthlyInterestRate, periods) =>\n    Math.ceil(\n        creditSum *\n        (monthlyInterestRate /\n          (1 - (1 + monthlyInterestRate) ** (Math.abs(periods) * -1)))\n    );\n  const calcRequiredIncome = (monthlyPayment) =>\n    Math.ceil((monthlyPayment / 45) * 100);\n  const calcMonthlyInterestRate = (interestRate) =>\n    Number((interestRate / 100 / 12).toFixed(5));\n  const calcPeriods = (period) => period * 12;\n\n  const toggleMessage = (type, currentValue, minValue) => {\n    const creditSumMinThreshold = 200000;\n    const modifiers = new Map([\n      [`mortgage`, `ипотечные`],\n      [`auto`, `автомобильные`],\n      [`personal`, `потребительские`]\n    ]);\n    if (currentValue < minValue) {\n      const messageData = rejectMessage.querySelectorAll(`span`);\n      const [modifier, value] = messageData;\n      modifier.textContent = modifiers.get(`${type}`);\n      value.textContent = `${minValue\n        .toLocaleString(`en-US`)\n        .replace(/,/g, ` `)} ${helpers.num2str(minValue, nounRublePlurals)}`;\n      rejectMessage.classList.remove(`calculator__message--invisible`);\n      creditOfferingForm.hidden = true;\n    } else {\n      rejectMessage.classList.add(`calculator__message--invisible`);\n      creditOfferingForm.hidden = false;\n    }\n\n    if (Number.isNaN(currentValue)) {\n      errorMessage.classList.remove(`calculator__message--invisible`);\n      creditOfferingForm.hidden = true;\n    } else {\n      errorMessage.classList.add(`calculator__message--invisible`);\n    }\n  };\n\n  const creditTypeNames = new Map([\n    [`mortgage`, `Сумма ипотеки`],\n    [`auto`, `Сумма автокредита`],\n    [`period`, `Сумма кредита`]\n  ]);\n\n  if (creditOfferingForm) {\n    const inputs = creditOfferingForm.querySelectorAll(`input`);\n    if (inputs) {\n      inputs.forEach((input) => {\n        const unit = getUnitPluralForm(input.dataset.unit, input.value);\n        masks.push(IMask(input, getMaskOptions(unit, input.dataset.format)));\n      });\n    }\n    creditOfferingForm\n      .querySelector(`button`)\n      .addEventListener(`click`, (event) => {\n        event.preventDefault();\n        event.stopPropagation();\n        creditRegistrationForm.hidden = false;\n      });\n  }\n\n  const fillInCreditOfferingForm = (elements, data) => {\n    const {creditSum, interestRate, annuityPayment, requiredIncome} = data;\n    elements.forEach((element) => {\n      const divider = `-offer-`;\n      const {unit, format} = element.el.input.dataset;\n      const {name} = element.el.input;\n      const [, fieldName] = name.split(`${divider}`);\n      let maskUnit = ``;\n      switch (fieldName) {\n        case `credit-sum`:\n          element.value = `${creditSum}`;\n          maskUnit = getUnitPluralForm(unit, element.unmaskedValue);\n          element.updateOptions(getMaskOptions(maskUnit, format));\n          break;\n        case `interest-rate`:\n          element.value = `${interestRate}`;\n          maskUnit = getUnitPluralForm(unit, element.unmaskedValue);\n          element.updateOptions(getMaskOptions(maskUnit, format));\n          break;\n        case `annuity-payment`:\n          element.value = `${annuityPayment}`;\n          maskUnit = getUnitPluralForm(unit, element.unmaskedValue);\n          element.updateOptions(getMaskOptions(maskUnit, format));\n          break;\n        case `required-income`:\n          element.value = `${requiredIncome}`;\n          maskUnit = getUnitPluralForm(unit, element.unmaskedValue);\n          element.updateOptions(getMaskOptions(maskUnit, format));\n          break;\n\n        default:\n          throw new Error(`Unknown field's name: ${name}`);\n      }\n    });\n  };\n\n  const renderCreditOfferingFormData = ({currentTarget}) => {\n    const divider = `-credit-`;\n    const [, formModifier] = currentTarget.name.split(`-`);\n\n    const [cost] = masks.filter((mask) => {\n      return mask.el.input.name === `${formModifier}${divider}cost`;\n    });\n    const [initialPayment] = masks.filter(\n        (mask) => mask.el.input.name === `${formModifier}${divider}initial-payment`\n    );\n    const [period] = masks.filter(\n        (mask) => mask.el.input.name === `${formModifier}${divider}period`\n    );\n\n    if (creditOfferingForm) {\n      creditOfferingForm.querySelector(\n          `label[for=\"credit-offer-credit-sum\"]`\n      ).textContent = creditTypeNames.get(`${formModifier}`);\n    }\n\n    let periods = calcPeriods(Number(period.unmaskedValue));\n    const filteredMasks = Array.from(masks).filter((mask) =>\n      mask.el.input.name.includes(`offer`)\n    );\n\n    if (cost && period) {\n      switch (formModifier) {\n        case `mortgage`:\n          const [maternityCapital] = Array.from(currentTarget.elements).filter(\n              (element) =>\n                element.name === `${formModifier}${divider}maternity-capital`\n          );\n\n          if (initialPayment && maternityCapital) {\n            const maternityCapitalSum = maternityCapital.checked ? 470000 : 0;\n            const creditSum =\n              Number(cost.unmaskedValue) -\n              Number(initialPayment.unmaskedValue) -\n              maternityCapitalSum;\n\n            const percentage = helpers.getPercentage(\n                Number(initialPayment.unmaskedValue),\n                Number(cost.unmaskedValue)\n            );\n            const percentageRateThreshold = 15;\n            let interestRate = 0;\n\n            if (percentage < percentageRateThreshold) {\n              interestRate = 9.4;\n            } else if (percentage >= percentageRateThreshold) {\n              interestRate = 8.5;\n            }\n            const monthlyInterestRate = calcMonthlyInterestRate(interestRate);\n            const annuityPayment = calcAnnuityPayment(\n                creditSum,\n                monthlyInterestRate,\n                periods\n            );\n            const requiredIncome = calcRequiredIncome(annuityPayment);\n\n            toggleMessage(formModifier, creditSum, 500000);\n\n            fillInCreditOfferingForm(filteredMasks, {\n              creditSum,\n              interestRate,\n              annuityPayment,\n              requiredIncome\n            });\n          }\n          break;\n\n        case `auto`:\n          const [carInsurance] = Array.from(currentTarget.elements).filter(\n              (element) => element.name === `${formModifier}${divider}car-insurance`\n          );\n          const [lifeInsurance] = Array.from(currentTarget.elements).filter(\n              (element) =>\n                element.name === `${formModifier}${divider}life-insurance`\n          );\n\n          if (initialPayment && carInsurance && lifeInsurance) {\n            const creditSum =\n              Number(cost.unmaskedValue) - Number(initialPayment.unmaskedValue);\n\n            let costThreshold = 2000000;\n            let interestRate = 0;\n            if (Number(cost.unmaskedValue) < costThreshold) {\n              interestRate = 16;\n            } else if (Number(cost.unmaskedValue) > costThreshold) {\n              interestRate = 15;\n            }\n\n            if (carInsurance.checked || lifeInsurance.checked) {\n              interestRate = 8.5;\n            }\n\n            if (carInsurance.checked && lifeInsurance.checked) {\n              interestRate = 3.5;\n            }\n\n            const monthlyInterestRate = calcMonthlyInterestRate(interestRate);\n            const annuityPayment = calcAnnuityPayment(\n                creditSum,\n                monthlyInterestRate,\n                periods\n            );\n            const requiredIncome = calcRequiredIncome(annuityPayment);\n\n            toggleMessage(formModifier, creditSum, 200000);\n\n            fillInCreditOfferingForm(filteredMasks, {\n              creditSum,\n              interestRate,\n              annuityPayment,\n              requiredIncome\n            });\n          }\n          break;\n\n        case `personal`:\n          const [projectMember] = Array.from(currentTarget.elements).filter(\n              (element) =>\n                element.name === `${formModifier}${divider}project-member`\n          );\n\n          if (projectMember) {\n            const creditSum = Number(cost.unmaskedValue);\n            const projectMemberPercentage = projectMember.checked ? 0.5 : 0;\n            const personalMinThreshold = 750000;\n            const personalMaxThreshold = 2000000;\n            let interestRate = 0;\n\n            if (Number(cost.unmaskedValue) < personalMinThreshold) {\n              interestRate = 15 - projectMemberPercentage;\n            } else if (\n              Number(cost.unmaskedValue) <= personalMinThreshold &&\n              Number(cost.unmaskedValue) < personalMaxThreshold\n            ) {\n              interestRate = 12.5 - projectMemberPercentage;\n            } else if (Number(cost.unmaskedValue) > personalMaxThreshold) {\n              interestRate = 9.5 - projectMemberPercentage;\n            }\n\n            const monthlyInterestRate = calcMonthlyInterestRate(interestRate);\n            const annuityPayment = calcAnnuityPayment(\n                creditSum,\n                monthlyInterestRate,\n                periods\n            );\n            const requiredIncome = calcRequiredIncome(annuityPayment);\n\n            toggleMessage(formModifier, creditSum, 0);\n\n            fillInCreditOfferingForm(filteredMasks, {\n              creditSum,\n              interestRate,\n              annuityPayment,\n              requiredIncome\n            });\n          }\n          break;\n\n        default:\n          throw new Error(`Unknown form's modifier: ${formModifier}`);\n      }\n    }\n  };\n\n  // Шаг 3 (оформление заявки)\n  if (creditRegistrationForm) {\n    const formRegistrationName = creditRegistrationForm.name;\n    const inputs = creditRegistrationForm.querySelectorAll(`input`);\n\n    if (inputs) {\n      inputs.forEach((input) => {\n        const unit = getUnitPluralForm(input.dataset.unit, input.value);\n        masks.push(IMask(input, getMaskOptions(unit, input.dataset.format)));\n      });\n    }\n\n    const [creditRegistrationFullNameInput] = masks.filter((mask) => {\n      return mask.el.input.name === `${formRegistrationName}-full-name`;\n    });\n\n    const [creditRegistrationEmailInput] = masks.filter((mask) => {\n      return mask.el.input.name === `${formRegistrationName}-email`;\n    });\n\n    const [creditRegistrationTelInput] = masks.filter((mask) => {\n      return mask.el.input.name === `${formRegistrationName}-tel`;\n    });\n\n    const [formRegistrationApplicationNumber] = masks.filter((mask) => {\n      return (\n        mask.el.input.name === `${formRegistrationName}-application-number`\n      );\n    });\n\n    const registrationFormData = localStorage.getItem(`registrationFormData`)\n      ? JSON.parse(localStorage.getItem(`registrationFormData`))\n      : {\n        fullName: ``,\n        tel: ``,\n        email: ``\n      };\n    const {fullName, tel, email} = registrationFormData;\n\n    if (creditRegistrationFullNameInput) {\n      creditRegistrationFullNameInput.value = fullName;\n    }\n\n    if (creditRegistrationEmailInput) {\n      creditRegistrationEmailInput.value = email;\n    }\n\n    if (creditRegistrationTelInput) {\n      creditRegistrationTelInput.value = tel;\n    }\n\n    if (formRegistrationApplicationNumber) {\n      formRegistrationApplicationNumber.value = `1`;\n    }\n  }\n\n  const renderCreditRegistrationFormData = ({currentTarget}) => {\n    const updateMask = (mask) => {\n      const {unit, format} = mask.el.input.dataset;\n      const maskUnit = getUnitPluralForm(unit, mask.unmaskedValue);\n      mask.updateOptions(getMaskOptions(maskUnit, format));\n    };\n    // поля формы с параметрами кредита\n    const divider = `-credit-`;\n    const [, formCalculationModifier] = currentTarget.name.split(`-`);\n\n    const [creditRegistrationCostMask] = masks.filter((mask) => {\n      return mask.el.input.name === `${formCalculationModifier}${divider}cost`;\n    });\n    const [creditRegistrationInitialPaymentMask] = masks.filter(\n        (mask) =>\n          mask.el.input.name ===\n        `${formCalculationModifier}${divider}initial-payment`\n    );\n    const [creditRegistrationPeriodMask] = masks.filter(\n        (mask) =>\n          mask.el.input.name === `${formCalculationModifier}${divider}period`\n    );\n\n    // поля формы оформления заявки\n    const formRegistrationName =\n      creditRegistrationForm && creditRegistrationForm.name;\n\n    const [formRegistrationPurposeInput] = masks.filter((mask) => {\n      return mask.el.input.name === `${formRegistrationName}-purpose`;\n    });\n\n    const formRegistrationCostLabel =\n      creditRegistrationForm &&\n      creditRegistrationForm.querySelector(`[for=\"credit-registration-cost\"]`);\n    const [costInput] = masks.filter((mask) => {\n      return mask.el.input.name === `${formRegistrationName}-cost`;\n    });\n\n    const [formRegistrationInitialPaymentInput] = masks.filter((mask) => {\n      return mask.el.input.name === `${formRegistrationName}-initial-payment`;\n    });\n    const creditRegistrationInitialPaymentGroup =\n      creditRegistrationForm &&\n      creditRegistrationForm\n        .querySelector(`input[name=\"${formRegistrationName}-initial-payment\"]`)\n        .closest(`.calculator__form-field`);\n\n    const [formRegistrationPeriodInput] = masks.filter((mask) => {\n      return mask.el.input.name === `${formRegistrationName}-period`;\n    });\n\n    switch (formCalculationModifier) {\n      case `mortgage`:\n        formRegistrationPurposeInput.value = `Ипотека`;\n        if (creditRegistrationCostMask) {\n          formRegistrationCostLabel.textContent = `Стоимость недвижимости`;\n        }\n        break;\n\n      case `auto`:\n        formRegistrationPurposeInput.value = `Автокредит`;\n        if (creditRegistrationCostMask) {\n          formRegistrationCostLabel.textContent = `Стоимость автомобиля`;\n        }\n        break;\n\n      case `personal`:\n        formRegistrationPurposeInput.value = `Потребительский кредит`;\n        if (creditRegistrationCostMask) {\n          formRegistrationCostLabel.textContent = `Сумма кредита`;\n        }\n        break;\n\n      default:\n        throw new Error(`Unknown modifier: ${formCalculationModifier}`);\n    }\n\n    if (creditRegistrationCostMask) {\n      costInput.value = creditRegistrationCostMask.unmaskedValue;\n      updateMask(costInput);\n    }\n    if (creditRegistrationInitialPaymentMask) {\n      formRegistrationInitialPaymentInput.value =\n        creditRegistrationInitialPaymentMask.unmaskedValue;\n      creditRegistrationInitialPaymentGroup.classList.remove(\n          `calculator__form-field--invisible`\n      );\n      updateMask(formRegistrationInitialPaymentInput);\n    } else {\n      creditRegistrationInitialPaymentGroup.classList.add(\n          `calculator__form-field--invisible`\n      );\n    }\n\n    if (creditRegistrationPeriodMask) {\n      formRegistrationPeriodInput.value =\n        creditRegistrationPeriodMask.unmaskedValue;\n      updateMask(formRegistrationPeriodInput);\n    }\n  };\n\n  if (creditCalculationForms) {\n    creditCalculationForms.forEach((form) => {\n      form.addEventListener(`change`, renderCreditOfferingFormData);\n      form.addEventListener(`change`, renderCreditRegistrationFormData);\n    });\n  }\n\n  if (creditRegistrationForm) {\n    const formRegistrationName = creditRegistrationForm.name;\n\n    const [fullName] = masks.filter((mask) => {\n      return mask.el.input.name === `${formRegistrationName}-full-name`;\n    });\n\n    const [tel] = masks.filter((mask) => {\n      return mask.el.input.name === `${formRegistrationName}-tel`;\n    });\n\n    const [email] = masks.filter((mask) => {\n      return mask.el.input.name === `${formRegistrationName}-email`;\n    });\n\n    const toggleInvalid = (element, state) => {\n      const parent = element.parentElement;\n      const [parentclassName] = parent.classList;\n      if (state === `valid`) {\n        if (\n          parent &&\n          parent.classList.contains(`${parentclassName}--invalid`)\n        ) {\n          parent.classList.remove(`${parentclassName}--invalid`);\n          parent.classList.remove(`animated`, `shake`);\n        }\n      } else if (state === `invalid`) {\n        if (\n          parent &&\n          !parent.classList.contains(`${parentclassName}--invalid`)\n        ) {\n          parent.classList.add(`${parentclassName}--invalid`);\n          parent.classList.add(`animated`, `shake`);\n        }\n      }\n    };\n\n    const creditRegistrationFormInvalidHandler = ({target}) => {\n      if (!target.validity.valid) {\n        toggleInvalid(target, `invalid`);\n      }\n    };\n\n    const creditRegistrationFormInputHandler = ({target}) => {\n      toggleInvalid(target, `valid`);\n    };\n\n    [fullName, email, tel].forEach((mask) => {\n      mask.el.input.addEventListener(\n          `invalid`,\n          creditRegistrationFormInvalidHandler\n      );\n      mask.el.input.addEventListener(\n          `input`,\n          creditRegistrationFormInputHandler\n      );\n    });\n\n    const submitHandler = (event) => {\n      event.preventDefault();\n      const {target} = event;\n      toggleInvalid(target, `valid`);\n      const modalCalculator = document.querySelector(`.modal--calculator`);\n      const [formRegistrationApplicationNumber] = masks.filter((mask) => {\n        return (\n          mask.el.input.name === `${formRegistrationName}-application-number`\n        );\n      });\n      const formData = Object.fromEntries(new FormData(target));\n\n      localStorage.setItem(\n          `registrationFormData`,\n          JSON.stringify({\n            fullName: formData[`${formRegistrationName}-full-name`],\n            email: formData[`${formRegistrationName}-email`],\n            tel: formData[`${formRegistrationName}-tel`]\n          })\n      );\n\n      if (formRegistrationApplicationNumber) {\n        formRegistrationApplicationNumber.unmaskedValue = `${Number(\n            formRegistrationApplicationNumber.unmaskedValue\n        ) + 1}`;\n      }\n\n      creditRegistrationForm.hidden = true;\n      if (modalCalculator) {\n        helpers.modal.show(modalCalculator);\n        helpers.scroll.disable();\n      }\n\n      if (creditCalculationForms) {\n        creditCalculationForms.forEach((form) => {\n          if (!form.hidden) {\n            form.hidden = !form.hidden;\n          }\n        });\n      }\n\n      if (creditOfferingForm) {\n        creditOfferingForm.hidden = true;\n      }\n    };\n\n    creditRegistrationForm.addEventListener(`submit`, submitHandler);\n  }\n});\n","/* global ymaps */\ndocument.addEventListener(`DOMContentLoaded`, () => {\n  let map;\n  let objectManager;\n  const mapContainer = document.querySelector(`#map`);\n\n  const init = () => {\n    const departments =\n      mapContainer && JSON.parse(mapContainer.dataset.departments);\n    const russiaCoords = [61.698653, 99.505405];\n    map = new ymaps.Map(\n        mapContainer,\n        {\n          center: russiaCoords,\n          zoom: [9],\n          controls: []\n        },\n        {\n          autoFitToViewport: `always`\n        }\n    );\n\n    objectManager = new ymaps.ObjectManager({\n      clusterize: true,\n      gridSize: 32,\n      clusterDisableClickZoom: true\n    });\n\n    objectManager.objects.options.set({\n      iconLayout: `default#image`,\n      iconImageHref: `./static/departments/map_marker.svg`,\n      iconImageSize: [35, 40],\n      iconImageOffset: [-17, -20]\n    });\n\n    fetch(`./static/departments/departments.json`)\n      .then((response) => response.json())\n      .then((data) => {\n        objectManager.add(\n            (data[`features`] = data[`features`].filter((item) =>\n              departments.includes(item.group)\n            ))\n        );\n        map.geoObjects.add(objectManager);\n        const bounds = objectManager.getBounds();\n        if (bounds) {\n          map.setBounds(objectManager.getBounds());\n        }\n      });\n\n    map.behaviors.disable(`scrollZoom`);\n  };\n\n  const handleChange = ({currentTarget}) => {\n    const names = Array.from(currentTarget.elements.department)\n      .map((department) => {\n        if (department.checked) {\n          const [, name] = department.id.split(`-`);\n          return name;\n        }\n        return false;\n      })\n      .filter((name) => name);\n    if (mapContainer) {\n      mapContainer.dataset.departments = JSON.stringify(names);\n    }\n    if (map) {\n      map.destroy();\n    }\n    ymaps.ready(init);\n  };\n\n  document\n    .querySelector(`#departments-form`)\n    .addEventListener(`change`, handleChange);\n\n  window.addEventListener(`resize`, () => {\n    if (map && objectManager) {\n      map.setBounds(objectManager.getBounds());\n      map.container.fitToViewport();\n    }\n  });\n\n  ymaps.ready(init);\n});\n","document.addEventListener(`DOMContentLoaded`, () => {\n  const triggerClick = (element) => {\n    element.addEventListener(`keydown`, (event) => {\n      const {keyCode, target} = event;\n      if (keyCode === 13 || keyCode === 32) {\n        target.click();\n      }\n    });\n  };\n\n  document\n    .querySelectorAll(`form#departments-form label`)\n    .forEach((label) => triggerClick(label));\n});\n","/* global WatchJS */\n/* eslint-disable no-undef */\nconst {watch} = WatchJS;\n\ndocument.addEventListener(`DOMContentLoaded`, () => {\n  // Валидация формы модального окна (Паттерн «Обозреватель», MVC)\n  const modalPageHeader = document.querySelector(`#modal-page-header`);\n  const form = modalPageHeader.querySelector(`form`);\n  const fieldElements = {\n    login: form.querySelector(`.login-modal-form-field input`),\n    password: form.querySelector(`.password-modal-form-field input`)\n  };\n  const submitButton = form.querySelector(`button[type=\"submit\"]`);\n\n  const errorMessages = {\n    login: {\n      empty: `Обязательно к заполнению`\n    },\n    password: {\n      empty: `Обязательно к заполнению`,\n      length: `Минимальная длина пароля — 6 символов`\n    }\n  };\n\n  const validate = (fields, name) => {\n    const errors = {};\n    switch (name) {\n      case `login`:\n        if (!fields.login) {\n          errors.login = errorMessages.login.empty;\n        } else {\n          errors.login = ``;\n        }\n        break;\n      case `password`:\n        if (!fields.password) {\n          errors.password = errorMessages.password.empty;\n        } else if (fields.password.length < 6) {\n          errors.password = errorMessages.password.length;\n        } else {\n          errors.password = ``;\n        }\n        break;\n\n      default:\n        throw new Error(`Unknown field's name: ${name}`);\n    }\n    return {...state.form.errors, ...errors};\n  };\n\n  const updateStateErrors = (state, name) => {\n    const errors = validate(state.form.fields, name);\n    state.form.errors = errors;\n  };\n\n  const updateValidationState = (errors) => {\n    state.form.valid = Object.keys(errors).every((key) => {\n      return errors[key].length === 0;\n    });\n  };\n\n  const loginFormData = localStorage.getItem(`loginFormData`)\n    ? JSON.parse(localStorage.getItem(`loginFormData`))\n    : {login: ``, password: ``};\n\n  const {login, password} = loginFormData;\n\n  const state = {\n    form: {\n      processState: `filling`, // sending, finished\n      fields: {\n        login,\n        password\n      },\n      valid: true,\n      errors: {\n        login: ``,\n        password: ``\n      }\n    }\n  };\n\n  if (modalPageHeader && form) {\n    if (fieldElements[`login`] && fieldElements[`password`]) {\n      Object.entries(fieldElements).forEach(([name, element]) => {\n        element.value = state.form.fields[name];\n        element.addEventListener(`input`, (e) => {\n          state.form.fields[name] = e.target.value;\n          updateStateErrors(state, name);\n          updateValidationState(state.form.errors);\n        });\n      });\n\n      watch(state.form, `errors`, () => {\n        Object.entries(fieldElements).forEach(([name, element]) => {\n          const rootElementClassName = `${name}-modal-form-field`;\n          const rootElement = element.closest(`.${rootElementClassName}`);\n\n          if (rootElement) {\n            const feedbackElement = rootElement.querySelector(\n                `.${rootElementClassName}__feedback`\n            );\n            const errorMessage = state.form.errors[name];\n\n            if (\n              feedbackElement.querySelector(\n                  `.${rootElementClassName}__error-message`\n              )\n            ) {\n              rootElement.classList.remove(`${rootElementClassName}--invalid`);\n              feedbackElement.innerHTML = ``;\n            }\n\n            if (!errorMessage) {\n              return;\n            }\n            const errorMessageElement = document.createElement(`span`);\n            errorMessageElement.classList.add(\n                `${rootElementClassName}__error-message`\n            );\n            errorMessageElement.innerHTML = errorMessage;\n            feedbackElement.append(errorMessageElement);\n            rootElement.classList.add(`${rootElementClassName}--invalid`);\n          }\n        });\n      });\n    }\n\n    if (submitButton) {\n      watch(state.form, `processState`, () => {\n        const {processState} = state.form;\n        switch (processState) {\n          case `filling`:\n            submitButton.disabled = true;\n            break;\n          case `sending`:\n            submitButton.disabled = true;\n            break;\n          case `finished`:\n            modalPageHeader.classList.add(`modal--invisible`, `fadeOut`);\n            modalPageHeader.classList.remove(`fadeIn`);\n            document.body.style.cssText = `background-color: '', padding-right: '';`;\n            document.body.classList.remove(`page--overlay`, `page--no-scroll`);\n            break;\n          default:\n            throw new Error(`Unknown state: ${processState}`);\n        }\n      });\n\n      watch(state.form, `valid`, () => {\n        submitButton.disabled = !state.form.valid;\n      });\n    }\n\n    form.addEventListener(`submit`, (event) => {\n      event.preventDefault();\n      const {target} = event;\n      state.form.processState = `sending`;\n      const formData = new FormData(target);\n      localStorage.setItem(\n          `loginFormData`,\n          JSON.stringify(Object.fromEntries(formData))\n      );\n\n      Object.entries(fieldElements).forEach(([name]) => {\n        updateStateErrors(state, name);\n      });\n      updateValidationState(state.form.errors);\n\n      if (state.form.valid) {\n        state.form.processState = `finished`;\n      } else {\n        const {errors} = state.form;\n        state.form.processState = `filling`;\n        for (const name of Object.keys(errors)) {\n          if (errors[name] !== 0) {\n            fieldElements[name].focus();\n            break;\n          }\n        }\n      }\n    });\n\n    // показать / скрыть пароль формы\n    const showPassword = (event) => {\n      const {target, type} = event;\n      const input = target.previousElementSibling;\n      if (type === `mousedown`) {\n        input.setAttribute(`type`, `text`);\n      } else if (\n        (type === `keydown` && event.keyCode === 13) ||\n        (type === `keydown` && event.keyCode === 32)\n      ) {\n        input.setAttribute(`type`, `text`);\n      }\n    };\n\n    const hidePassword = ({target}) => {\n      const input = target.previousElementSibling;\n      input.setAttribute(`type`, `password`);\n    };\n\n    [`mousedown`, `keydown`].forEach((event) => {\n      fieldElements[`password`].nextElementSibling.addEventListener(\n          event,\n          showPassword\n      );\n    });\n\n    [`mouseup`, `keyup`].forEach((event) =>\n      fieldElements[`password`].nextElementSibling.addEventListener(\n          event,\n          hidePassword\n      )\n    );\n\n    // Скрытие модального окна\n    const modalCloseButtons = document.querySelectorAll(`.modal__trigger`);\n    const modalOverlays = document.querySelectorAll(`.modal__overlay`);\n    const events = [`click`, `keydown`];\n\n    if (modalCloseButtons) {\n      events.forEach((event) =>\n        modalCloseButtons.forEach((modalCloseButton) =>\n          modalCloseButton.addEventListener(event, (e) => {\n            const {type, target} = e;\n            if (type === `keydown`) {\n              if (e.keyCode === 32 || e.keyCode === 13) {\n                helpers.modal.hide(\n                    target.closest(`#${target.dataset.modal}`).closest(`.modal`)\n                );\n                helpers.scroll.enable();\n              }\n            } else if (type === `click`) {\n              helpers.modal.hide(\n                  target.closest(`#${target.dataset.modal}`).closest(`.modal`)\n              );\n              helpers.scroll.enable();\n            }\n          })\n        )\n      );\n    }\n\n    if (modalOverlays) {\n      modalOverlays.forEach((modalOverlay) =>\n        modalOverlay.addEventListener(`click`, ({target}) => {\n          helpers.modal.hide(target.closest(`.modal`));\n          helpers.scroll.enable();\n        })\n      );\n    }\n  }\n});\n"]}